{% extends "base.html" %} 
{% block content %}
<div class="text-center mb-6">
  <p class="text-2xl font-bold">Edit {{ object.name }} </p>
</div>

<div class="flex items-center justify-center">
  <div class="flex flex-col md:flex-row items-center justify-center gap-10 px-4 mx-auto w-full max-w-6xl">
    <img src="{{ object.img_url_large }}" alt="{{ object.name }}" class="rounded max-h-120 max-w-full h-auto" />
    
    
    <form method="post" class="mx-auto  max-w-md w-full">
      {% csrf_token %}

      {% for field in form %}
          <div>
            <label for="{{ field.id_for_label }}" class="block mb-1 font-medium">{{ field.label }}</label>

            {% if field.name == "date_obtained" %}
              <input
                type="date"
                name="{{ field.html_name }}"
                id="{{ field.id_for_label }}"
                value="{{ field.value|date:'Y-m-d' }}"
                class="input input-bordered w-full"
              />


            {% elif field.field.widget.input_type == "select" %}
              <select name="{{ field.html_name }}" id="{{ field.id_for_label }}" class="select select-bordered w-full">
                {% for choice in field.field.choices %}
                  <option value="{{ choice.0 }}" {% if field.value == choice.0 %}selected{% endif %}>{{ choice.1 }}</option>
                {% endfor %}
              </select>

            {% elif field.widget_type == "textarea" %}
              <textarea name="{{ field.html_name }}" id="{{ field.id_for_label }}" class="textarea w-full">{{ field.value }}</textarea>

              {% elif field.name == "grade" %}
              <input
                type="{{ field.field.widget.input_type }}"
                name="{{ field.html_name }}"
                id="{{ field.id_for_label }}"
                value="{{ field.value|default_if_none:'' }}"
                class="input input-bordered w-full"
                min="0"
                max="10"
                step="0.5"
              />

              {% else %}
                <input
                  type="{{ field.field.widget.input_type }}"
                  name="{{ field.html_name }}"
                  id="{{ field.id_for_label }}"
                  value="{{ field.value|default_if_none:'' }}"
                  class="input input-bordered w-full"
                  step="0.01"
                />
              {% endif %}

            {% if field.help_text %}
              <p class="text-sm text-gray-500">{{ field.help_text }}</p>
            {% endif %}
            {% for error in field.errors %}
              <p class="text-sm text-red-500">{{ error }}</p>
            {% endfor %}
          </div>
      {% endfor %}

      <div class="flex justify-between">
        <button type="submit" class="btn btn-success">Save</button>
        <a href="{% url 'user-card-detail' object.pk %}" class="btn btn-secondary">Cancel</a>
      </div>
    </form>
    
  </div>
</div>
{% endblock %}
